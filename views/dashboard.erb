<%= erb :header %>

<div class="container nav-sep">
  <div class="row">
    <div class="col-8">
      <h2><%= @project.name %></h2>
    </div>
    <div class="col-4">
      <select class="float-right" name="status" onchange="changeDashboardFilter(<%= @project.id %>, this.value);">
      <option value="all" selected>Filter by status...</option>
      <% Part::STATUS_MAP.each_pair do |key, value| %>
        <option value="<%= key %>"><%= value %></option>
      <% end %>
      <option value="drawing">Needs drawing</option>
      </select>
    </div>
  </div>
  <hr>

  <div class="mt-3" id="dashboard-parts">
    <%= erb :dashboard_parts %>
  </div>
</div>
<script type="text/javascript">
  changeDashboardFilter(<%= @project.id %>, "all");
  setInterval(function() { loadParts(); }, 10000);
</script>

<%= erb :footer %>
